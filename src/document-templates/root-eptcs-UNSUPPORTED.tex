%% Copyright (c) 2019 University of Exeter
%%               2018-2019 University of Paris-Saclay
%%               2018-2019 The University of Sheffield
%%
%% License:
%%   This program can be redistributed and/or modified under the terms
%%   of the LaTeX Project Public License Distributed from CTAN
%%   archives in directory macros/latex/base/lppl.txt; either
%%   version 1 of the License, or any later version.
%%   OR
%%   The 2-clause BSD-style license.
%%  
%%   SPDX-License-Identifier: LPPL-1.0+ OR BSD-2-Clause

%% Warning: Do Not Edit!
%% =====================
%% This is the root file for the Isabelle/DOF using the eptcs class. 
%% Note that eptcs cannot be distributed as part of Isabelle/DOF; you need
%% to download eptcs.cls from http://eptcs.web.cse.unsw.edu.au/style.shtml
%% and add it manually to the praemble.tex and the ROOT file. 
%%  
%% All customization and/or additional packages should be added to the file 
%% preamble.tex. 

\documentclass[submission,copyright,creativecommons]{eptcs}
\bibliographystyle{eptcs}% the mandatory bibstyle
\usepackage[T1]{fontenc}
\usepackage[utf8]{inputenc}
\usepackage[USenglish]{babel}
\usepackage{isabelle}
%\usepackage{underscore}
\usepackage{xcolor}
\usepackage{isabellesym}
\usepackage{amsmath}
\usepackage{amssymb}
\usepackage[numbers, sort&compress, sectionbib]{natbib}
\IfFileExists{DOF-core.sty}{}{%
  \PackageError{DOF-core}{Isabelle/DOF not installed. 
    This is a Isabelle_DOF project. The document preparation requires
    the Isabelle_DOF framework. Please obtain the framework by cloning
    the Isabelle_DOF git repository, i.e.: 
         "git clone https://git.logicalhacking.com/HOL-OCL/Isabelle_DOF"
    You can install the framework as follows:
         "cd Isabelle_DOF/document-generator && ./install"}{%
    For further help, see https://git.logicalhacking.com/HOL-OCL/Isabelle_DOF}
}

\newcommand{\subtitle}[1]{%
  \PackageError{DOF-eptcs-UNSUPPORTED}
               {The LaTeX class eptcs does not support subtitles.}
               {}\stop%
}%

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% provide an alternative definition of 
% begin: scholarly_paper.author
\RequirePackage{DOF-core}
\newcommand{\dofeptcsinstitute}[1]{\mbox{}\\\protect\scriptsize%
  \protect\begin{tabular}[t]{@{\protect\footnotesize}c@{}}%
    #1%
  \protect\end{tabular}%
}

\makeatletter
\newisadof{text.scholarly_paper.author}%
[label=,type=%
,scholarly_paper.author.email=%
,scholarly_paper.author.affiliation=%
,scholarly_paper.author.orcid=%
,scholarly_paper.author.http_site=%
][1]{%
  \protected@write\@auxout{}{%
  \string\protect\string\addauthor{%
   #1 %
    \string\mbox{}\string\dofeptcsinstitute{\commandkey{scholarly_paper.author.affiliation}} %
    \string\mbox{}\string\email{\commandkey{scholarly_paper.author.email}} %
  }
  }
}
\makeatother
% end: scholarly_paper.author
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\input{ontologies}

\IfFileExists{preamble.tex}{\input{preamble.tex}}{}%
\begin{document}

\maketitle
\input{session}
% optional bibliography
\IfFileExists{root.bib}{{\bibliography{root}}}{}
\end{document}

%%% Local Variables:
%%% mode: latex
%%% TeX-master: t
%%% End:
